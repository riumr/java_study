## 240618
### Docker
#### 명령어 정리
- whoami : 현재 사용자명 출력
- docker run -p (-d) 8080:80 --name Container이름 Image이름
  - -p : publish할 포트 지정
  - -d : 백그라운드에서 실행 여부

- docker cp index.html container명:container 경로
  - container 내부로 파일을 옮길 수 있다

- (winpty) docker exec -it container명 bash
  - it: interactive typewriter. 텍스트 창으로 상호작용할 수 있게 한다
  - 이미지를 bash에서 실행
  - git bash에서 명령어를 실행할 경우 winpty를 붙여야한다

### AWS
- vpc(virtual private cloud) 
  - 가상 서버실. 일종의 인트라넷으로 게이트웨이를 토해 외부와 연결된다
  - 리전 내 데이터 센터별로 설치된 서버 간 aws 리소스를 연계할 수 있다
- certificate manager : 인증관리
- route 53 : 도메인 등록
- s3 : 빌드파일 관리
- elastic container registry : 도커와 같은 서비스 제공
- ec2
  - 인스턴스가 컴퓨터 한 대라고 보면 된다
- 라우팅테이블
  - vpc 내에서의 서브넷 간 경로 설정  
  - nat 게이트웨이 : 프라이빗 서브넷이 인터넷이나 내부 서브넷과 통신하는 데 사용
  - 인터넷 게이트웨이 : 퍼블릭 서브넷이 인터넷과 통신하는 데 사용
- 보안그룹 : 가상 방화벽
- 인바운드 : 서버로 들어오는 연결
- 서브넷 안에 ec2 인스턴스가 위치한다
- aws에서 auto-scaling은 scale-out/in 방식으로 실행된다
- 골든이미지 : 인스턴스(의 설정들)를 이미지화한 것
- CIDR(CID Routing) : 라우팅 효율성을 향상시키는 ip 할당법

### AWS 서비스 설정 순서(실습)
- vpc, subnet 설정
- 인터넷 게이트웨이 생성. vpc에 연결
- 탄력적 ip 생성
- 보안그룹 생성
  - ssh -22 : 프라이빗 서브넷용
  - HTTP, HTTPS : 퍼블릭 서브넷, 로드 밸런싱용
- ec2 인스턴스 생성
  - 보안그룹명 설정. 키페어 생성
- Auto Scaling
  - 생성한 인스턴스로 이미지 생성(생성 전 인스턴스 중지)
  - 이미지로 인스턴스 생성